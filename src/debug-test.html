<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>é—®é¢˜è¯Šæ–­æ¼”ç¤º</title>
    <style>
        body { font-family: 'Microsoft YaHei', sans-serif; padding: 20px; }
        .section { margin: 20px 0; padding: 20px; border: 2px solid #ccc; }
        .error { background: #fee; border-color: #f00; }
        .success { background: #efe; border-color: #0f0; }
        iframe { width: 100%; height: 300px; border: 1px solid #999; }
        code { background: #f5f5f5; padding: 2px 6px; }
    </style>
</head>
<body>
    <h1>ğŸ” iframe srcdoc HTMLè½¬ä¹‰é—®é¢˜æ¼”ç¤º</h1>

    <div class="section error">
        <h2>âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆå½“å‰ä»£ç çš„é—®é¢˜ï¼‰</h2>
        <p>ç›´æ¥æ’å…¥HTMLåˆ°srcdocï¼ŒåŒ…å«æœªè½¬ä¹‰çš„åŒå¼•å·å’Œæ ‡ç­¾</p>
        <div id="broken-demo"></div>
        <p><strong>ç»“æœï¼š</strong>iframeæ— æ³•æ¸²æŸ“ï¼Œæ§åˆ¶å°å¯èƒ½æœ‰é”™è¯¯</p>
    </div>

    <div class="section success">
        <h2>âœ… æ­£ç¡®ç¤ºä¾‹ï¼ˆè½¬ä¹‰åçš„HTMLï¼‰</h2>
        <p>ä½¿ç”¨HTMLå®ä½“è½¬ä¹‰åçš„HTML</p>
        <iframe srcdoc="<!DOCTYPE html><html><head><meta charset='UTF-8'><style>body{background:#f0f0f0;padding:20px;font-family:sans-serif;}.title{color:#333;font-size:24px;}</style></head><body><div class='title'>è¿™æ˜¯æ­£ç¡®æ¸²æŸ“çš„HTML</div><p>åŒå¼•å·ã€æ ‡ç­¾éƒ½æ­£å¸¸æ˜¾ç¤º</p></body></html>"></iframe>
        <p><strong>ç»“æœï¼š</strong>å†…å®¹æ­£å¸¸æ˜¾ç¤º</p>
    </div>

    <script>
        // æ¨¡æ‹Ÿå½“å‰ä»£ç çš„é—®é¢˜
        const sampleHTML = `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>æµ‹è¯•</title>
</head>
<body>
    <h1>å†…å®¹</h1>
</body>
</html>`;

        // âŒ è¿™ä¼šå¯¼è‡´HTMLè§£æé”™è¯¯
        const brokenContainer = document.getElementById('broken-demo');
        brokenContainer.innerHTML = `<iframe srcdoc="${sampleHTML}" style="width: 100%; height: 200px;"></iframe>`;

        console.log('=== è¯Šæ–­ä¿¡æ¯ ===');
        console.log('åŸå§‹HTMLé•¿åº¦:', sampleHTML.length);
        console.log('åŒ…å«åŒå¼•å·æ•°é‡:', (sampleHTML.match(/"/g) || []).length);
        console.log('åŒ…å«<æ ‡ç­¾æ•°é‡:', (sampleHTML.match(/</g) || []).length);
    </script>
</body>
</html>
